<?xml version="1.0" ?>
<robot name="typea">
  <!--gazebo>
    <plugin filename="gz_ros2_control-system" name="gz_ros2_control::GazeboSimROS2ControlPlugin">
      <parameters>/home/robkwan/ros2_ws/src/bioloid_gazebo/config/gazebo_ros2_control.yaml</parameters>
    </plugin>
  </gazebo-->

  <!-- Torso -->
  <link name="torso_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-CHEST-F_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 1.5707963267948966"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-CHEST-B_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 1.5707963267948966"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/CM-5_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 3.141592653589793 1.5707963267948966" xyz="-0.032 0 -0.015"/>
    </visual>
    <!-- Sensor 100 -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-S1_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0.025"/>
    </visual>
    <!-- Motor 1 -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 0" xyz="0 -0.032 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F3_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 -1.5707963267948966 1.5707963267948966" xyz="-0.019 -0.032 -0.0145"/>
    </visual>
    <!-- Motor 2 -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 3.141592653589793" xyz="0 0.032 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F3_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 -1.5707963267948966 1.5707963267948966" xyz="-0.019 0.032 -0.0145"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F3_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 1.5707963267948966" xyz="0.0175 0 -0.0655"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F3_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 -1.5707963267948966" xyz="-0.0175 0 -0.0655"/>
    </visual>
    <!-- Motor 7 -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 3.141592653589793 3.141592653589793" xyz="0 -0.0385 -0.0655"/>
    </visual>
    <!-- Motor 8 -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 3.141592653589793 0" xyz="0 0.0385 -0.0655"/>
    </visual>
    <collision name="head_collision">
      <origin xyz="-0.0122 0 0.035"/>
      <geometry>
        <box size="0.054 0.033 0.044"/>
      </geometry>
    </collision>
    <collision name="torso_collision_top">
      <origin xyz="-0.019 0 -0.015"/>
      <geometry>
        <box size="0.0905 0.103 0.0635"/>
      </geometry>
    </collision>
    <collision name="torso_collision_bottom">
      <origin xyz="-0.00625 0 -0.0648"/>
      <geometry>
        <box size="0.065 0.099 0.043"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="3.4770266466"/>
      <origin xyz="0.0162019036 0.0049844800 0.0038595353"/>
      <!--inertia ixx="0.9787053684" ixy="0.0543464614" ixz="-0.0262073548" iyy="0.9730952674" iyz="0.0198675713" izz="0.9352573858"/-->
      <inertia ixx="0.0009787" ixy="0.0000543" ixz="-0.0000262" iyy="0.0009731" iyz="0.0000199" izz="0.0009353"/>
    </inertial>
  </link>

  <!-- Add a "world" link -->
  <link name="world"/>

  <!-- Fix the base_link to world -->
  <joint name="fixed_base" type="fixed">
    <parent link="world"/>
    <child link="base_link"/>
    <origin xyz="0 0 0" rpy="0 0 0"/> 
  </joint>

  <!-- Base -->
  <joint name="base_to_torso_joint" type="fixed">
    <parent link="base_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <child link="torso_link"/>
  </joint>
  
  <link name="base_link">
    <inertial>
      <mass value="1.0"/>
      <origin xyz="0 0 0"/>
      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.0001" iyz="0" izz="0.0001"/>
    </inertial>
    <!--collision>
      <geometry>
        <box size="0.1 0.1 0.1"/>  
      </geometry>
    </collision>
    <visual>
      <geometry>
        <box size="0.1 0.1 0.1"/>
      </geometry>
    </visual-->
  </link>

  <!-- IMU -->
  <joint name="imu_to_base_joint" type="fixed">
    <axis xyz="1 0 0"/>
    <origin rpy="0 0 0" xyz="0 0 0.05"/>
    <parent link="base_link"/>
    <child link="imu_link"/>
  </joint>
  <link name="imu_link">
    <visual>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size="0.04 0.02 0.005"/>
      </geometry>
      <material name="green">
        <color rgba="0.0 1.0 0.0 1.0"/>
      </material>
    </visual>
    <collision>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <geometry>
        <box size=".01 .01 .01"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.001"/>
      <origin rpy="0 0 0" xyz="0 0 0"/>
      <inertia ixx="0.0001" ixy="0" ixz="0" iyy="0.000001" iyz="0" izz="0.0001"/>
    </inertial>
  </link>

  <!-- Right Arm -->
  <joint name="r_shoulder_swing_joint" type="revolute">
    <parent link="torso_link"/>
    <origin rpy="1.5707963267948966 1.5707963267948966 0" xyz="0 -0.032 0"/>
    <axis xyz="0 0 1"/>
    <child link="r_shoulder_swing_link"/>
    <limit effort="2.8" lower="-1" upper="1.5707963267948966" velocity="1.0"/>
    <dynamics damping="0.1" friction="0.05"/>
  </joint>
  <link name="r_shoulder_swing_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F1_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 3.141592653589793 3.141592653589793" xyz="0 0.014 0.044"/>
    </visual>
    <collision name="r_shoulder_collision">
      <origin xyz="0 0.006 0.0375"/>
      <geometry>
        <box size="0.052 0.039 0.036"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0595945816"/>
      <origin xyz="-0.0109359544 0.0123630374 -0.0000000007"/>
      <inertia ixx="0.0069903407" ixy="-0.0020812370" ixz="0.0000000001" iyy="0.0067210939" iyz="-0.0000000002" izz="0.0054521983"/>
    </inertial>
  </link>

  <joint name="l_shoulder_swing_joint" type="revolute">
    <parent link="torso_link"/>
    <origin rpy="-1.5707963267948966 -1.5707963267948966 0" xyz="0 0.032 0"/>
    <axis xyz="0 0 1"/>
    <child link="l_shoulder_swing_link"/>
    <limit effort="2.8" lower="-1" upper="1.5707963267948966" velocity="1.0"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="l_shoulder_swing_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F1_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 3.141592653589793 3.141592653589793" xyz="0 0.014 0.044"/>
    </visual>
    <collision name="l_shoulder_collision">
      <origin xyz="0 0.006 0.0375"/>
      <geometry>
        <box size="0.052 0.039 0.036"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0595945816"/>
      <origin xyz="-0.0109359544 -0.0123630374 0.0000000007"/>
      <inertia ixx="0.0069903407" ixy="0.0020812370" ixz="-0.0000000001" iyy="0.0067210939" iyz="-0.0000000002" izz="0.0054521983"/>
    </inertial>
    <!--
        <inertial>
            <origin xyz="-0.013522619 0.010264050 0.0013935747"/>
            <mass value="0.025913024"/>
            <inertia  ixx="0.0097758165" ixy="0.0016911839"  ixz="-0.0016911839"  iyy="0.010511104"  iyz="0.00033406955"  izz="0.005476798"/>
        </inertial>
        -->
  </link>

  <joint name="r_shoulder_lateral_joint" type="revolute">
    <parent link="r_shoulder_swing_link"/>
    <origin rpy="0 -1.5707963267948966 0" xyz="0 0.014 0.044"/>
    <axis xyz="0 0 1"/>
    <child link="r_upper_arm_link"/>
    <limit effort="2.8" lower="-1.5" upper="1.5" velocity="1.0"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="r_upper_arm_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-BU_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 0 1.5707963267948966" xyz="0 0 -0.0185"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-WA_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 0 1.5707963267948966" xyz="0 0 -0.019"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F3_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 1.5707963267948966" xyz="0.0415 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F2_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 1.5707963267948966 1.5707963267948966" xyz="0.0675 0 0"/>
    </visual>
    <collision name="r_upper arm_collision_proximal">
      <origin xyz="0.0148 0 0"/>
      <geometry>
        <box size="0.054 0.033 0.044"/>
      </geometry>
    </collision>
    <collision name="r_upper arm_collision_distal">
      <origin xyz="0.0555 0 0"/>
      <geometry>
        <box size="0.047 0.033 0.052"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.3822870734"/>
      <origin xyz="-0.0000002032 -0.0068291604 -0.0006710552"/>
      <inertia ixx="0.0274690892" ixy="0.0000004066" ixz="-0.0000000859" iyy="0.0077817002" iyz="0.0007139012" izz="0.0226034759"/>
    </inertial>
  </link>

  <joint name="l_shoulder_lateral_joint" type="revolute">
    <parent link="l_shoulder_swing_link"/>
    <origin rpy="0 -1.5707963267948966 0" xyz="0 0.014 0.044"/>
    <axis xyz="0 0 1"/>
    <child link="l_upper_arm_link"/>
    <limit effort="2.8" lower="-1.5" upper="1.5" velocity="1.0"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="l_upper_arm_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 0 -1.5707963267948966" xyz="0 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-BU_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 1.5707963267948966" xyz="0 0 0.0185"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-WA_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 1.5707963267948966" xyz="0 0 0.019"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F3_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 0 -1.5707963267948966" xyz="0.0415 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F2_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 1.5707963267948966 -1.5707963267948966" xyz="0.0675 0 0"/>
    </visual>
    <collision name="l_upper arm_collision_proximal">
      <origin xyz="0.0148 0 0"/>
      <geometry>
        <box size="0.054 0.033 0.044"/>
      </geometry>
    </collision>
    <collision name="l_upper arm_collision_distal">
      <origin xyz="0.0555 0 0"/>
      <geometry>
        <box size="0.047 0.033 0.052"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.3822870734"/>
      <origin xyz="0.0000002032 0.0068291604 -0.0006710552"/>
      <inertia ixx="0.0274690892" ixy="0.0000004066" ixz="0.0000000859" iyy="0.0077817002" iyz="-0.0007139012" izz="0.0226034759"/>
    </inertial>
    <!--
        <inertial>
      	<origin xyz="-0.036239 0.000734 -0.000660" />
      	<mass value="0.16837715"/>
      	<inertia ixx="0.12202839"  ixy="-0.0020812626"  ixz="-0.00088143449" iyx="-0.0020812626" iyy="0.038088441" iyz="0.0018251448" izx="-0.00088143449" izy="0.0018251448" izz="0.11340830" />
        </inertial>
        -->
  </link>

  <joint name="r_elbow_joint" type="revolute">
    <parent link="r_upper_arm_link"/>
    <origin rpy="0 0 0" xyz="0.0675 0 0"/>
    <axis xyz="0 0 1"/>
    <child link="r_lower_arm_link"/>
    <limit effort="2.8" lower="-1.77" upper="1.77" velocity="1.0"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="r_lower_arm_link">
    <!-- Motor 5 -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-BU_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 0 1.5707963267948966" xyz="0 0 -0.0185"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-WA_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 0 1.5707963267948966" xyz="0 0 -0.019"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F3_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 1.5707963267948966" xyz="0.0415 0 0"/>
    </visual>
    <collision name="r_lower_arm_collision">
      <origin xyz="0.017 0 0"/>
      <geometry>
        <box size="0.058 0.033 0.044"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.3833833954"/>
      <origin xyz="-0.0009848283 -0.0081892817 -0.0005847510"/>
      <inertia ixx="0.0336009689" ixy="0.0038318932" ixz="0.0000784112" iyy="0.0055167096" iyz="0.0008760966" izz="0.0319185839"/>
    </inertial>
  </link>

  <joint name="l_elbow_joint" type="revolute">
    <parent link="l_upper_arm_link"/>
    <origin rpy="0 0 0" xyz="0.0675 0 0"/>
    <axis xyz="0 0 1"/>
    <child link="l_lower_arm_link"/>
    <limit effort="2.8" lower="-1.77" upper="1.77" velocity="1.0"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="l_lower_arm_link">
    <!-- Motor 6 -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 0 -1.5707963267948966" xyz="0 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-BU_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 1.5707963267948966" xyz="0 0 0.0185"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-WA_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 1.5707963267948966" xyz="0 0 0.019"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F3_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 0 -1.5707963267948966" xyz="0.0415 0 0"/>
    </visual>
    <collision name="l_lower_arm_collision">
      <origin xyz="0.017 0 0"/>
      <geometry>
        <box size="0.058 0.033 0.044"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.3822870734"/>
      <origin xyz="0.0009848283 0.0081892817 -0.0005847510"/>
      <inertia ixx="0.0274690892" ixy="0.0000004066" ixz="0.0000000859" iyy="0.0077817002" iyz="-0.0007139012" izz="0.0226034759"/>
    </inertial>
    <!--
        <inertial>
            <origin xyz="0.000000 0.000000 0.000000" />
            <mass value="0.059288504"/>
            <inertia ixx="0.086855267"  ixy="0.0053020311"  ixz="0.00043636051" iyx="0.0053020311" iyy="0.021192085" iyz="-0.0064855932" izx="0.00043636051" izy="-0.0064855932" izz="0.086845450" />
        </inertial>
        -->
  </link>

  <joint name="r_hand_joint" type="fixed">
    <parent link="r_lower_arm_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <child link="r_hand_link"/>
  </joint>
  <link name="r_hand_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F11_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 -1.5707963267948966 0" xyz="0.0415 0 0"/>
    </visual>
    <collision name="r_palm_collision">
      <origin xyz="0.039 0 0"/>
      <geometry>
        <box size="0.0131 0.0265 0.044"/>
      </geometry>
    </collision>
    <collision name="r_fingers_collision">
      <origin xyz="0.0701 -0.0077 0"/>
      <geometry>
        <box size="0.0575 0.0175 0.035"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0303003163"/>
      <origin xyz="-0.0070414665 -0.0217364083 -0.0000000095"/>
      <inertia ixx="0.0054448143" ixy="0.0011266691" ixz="0.0000000017" iyy="0.0013220979" iyz="-0.0000000025" izz="0.0053756998"/>
    </inertial>
  </link>

  <joint name="l_hand_joint" type="fixed">
    <parent link="l_lower_arm_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <child link="l_hand_link"/>
  </joint>
  <link name="l_hand_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F11_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 -1.5707963267948966 3.141592653589793" xyz="0.0415 0 0"/>
    </visual>
    <collision name="l_palm_collision">
      <origin xyz="0.039 0 0"/>
      <geometry>
        <box size="0.0131 0.0265 0.044"/>
      </geometry>
    </collision>
    <collision name="l_fingers_collision">
      <origin xyz="0.0701 -0.0077 0"/>
      <geometry>
        <box size="0.0575 0.0175 0.035"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0303003163"/>
      <origin xyz="-0.0070414665 0.0217364083 0.0000000095"/>
      <inertia ixx="0.0054448143" ixy="-0.0011266691" ixz="-0.0000000017" iyy="0.0013220979" iyz="-0.0000000025" izz="0.0053756998"/>
    </inertial>
    <!--
        <inertial>
            <origin xyz="0.045838 -0.013490 0.006666"/>
            <mass value="0.010"/>
            <inertia ixx="0.12202839"  ixy="-0.0020812626"  ixz="-0.00088143449" iyx="-0.0020812626" iyy="0.038088441" iyz="0.0018251448" izx="-0.00088143449" izy="0.0018251448" izz="0.11340830" />
        </inertial>
        -->
  </link>

  <joint name="r_hip_twist_joint" type="revolute">
    <parent link="torso_link"/>
    <origin rpy="0 3.141592653589793 1.5707963267948966" xyz="0 -0.0385 -0.0655"/>
    <axis xyz="0 0 1"/>
    <child link="r_hip_twist_link"/>
    <limit effort="10" lower="-0.5" upper="0.5" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <!--gazebo reference="r_hip_twist_joint">
    <initial_position>-1.0</initial_position>  
  </gazebo-->

  <link name="r_hip_twist_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F5_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 0 3.141592653589793" xyz="0 0.02 0.05"/>
    </visual>
    <collision name="r_hip_twist_collision">
      <origin xyz="0.0008 0.02 0.041"/>
      <geometry>
        <box size="0.029 0.083 0.0405"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0755193623"/>
      <origin xyz="0.0005416307 -0.0000009200 0.0190685105"/>
      <inertia ixx="0.0082750315" ixy="-0.0000001051" ixz="0.0002681193" iyy="0.0194814984" iyz="-0.0000005502" izz="0.0133677616"/>
    </inertial>
  </link>

  <joint name="l_hip_twist_joint" type="revolute">
    <parent link="torso_link"/>
    <origin rpy="0 3.141592653589793 -1.5707963267948966" xyz="0 0.0385 -0.0655"/>
    <axis xyz="0 0 1"/>
    <child link="l_hip_twist_link"/>
    <limit effort="10" lower="-0.5" upper="0.5" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <!--gazebo reference="l_hip_twist_joint">
    <limit>
      <initial_position>-1.0</initial_position>  
    </limit>
  </gazebo-->

  <link name="l_hip_twist_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F5_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 0 0.0" xyz="0 -0.02 0.05"/>
    </visual>
    <collision name="l_hip_twist_collision">
      <origin xyz="0.0008 -0.02 0.041"/>
      <geometry>
        <box size="0.029 0.083 0.0405"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0755193623"/>
      <origin xyz="0.0005416307 -0.0000009200 0.0190685105"/>
      <inertia ixx="0.0082750315" ixy="-0.0000001051" ixz="0.0002681193" iyy="0.0194814984" iyz="-0.0000005502" izz="0.0133677616"/>
    </inertial>
  </link>

  <joint name="r_hip_lateral_joint" type="revolute">
    <parent link="r_hip_twist_link"/>
    <origin rpy="-1.5707963267948966 0 0" xyz="0 0 0.05"/>
    <axis xyz="0 0 1"/>
    <child link="r_hip_lateral_link"/>
    <limit effort="10" lower="-0.8" upper="0.8" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
    <gazebo>
      <initial_position>1.0</initial_position>  <!-- 0.3 rad (~17 deg) outward -->
    </gazebo>
  </joint>
  <link name="r_hip_lateral_link">
    <!-- Motor 9[r] 10[l] -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 -0.0" xyz="0 0 0.0353"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F6_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 -1.5707963267948966 -1.5707963267948966" xyz="-0.019 -0.0145 0.0513"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F6_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 -1.5707963267948966 1.5707963267948966" xyz="0.019 -0.0145 0.0513"/>
    </visual>
    <!-- Motor 11[r] 12[l] -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-0.0 -1.5707963267948966 0" xyz="0 0 0.0032999999999999974"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-BU_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 -0.0 0" xyz="0 0 -0.014700000000000005"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F7_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 -0.0 1.5707963267948966" xyz="0 -0.0145 -0.0157"/>
    </visual>
    <collision name="r_hip_lateral_collision">
      <origin xyz="0 -0.0135 0.019999999999999997"/>
      <geometry>
        <box size="0.04 0.051 0.0721"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.6852429363"/>
      <origin xyz="0.0167509278 -0.0033519500 0.0035241956"/>
      <inertia ixx="0.0160687475" ixy="-0.0135264586" ixz="0.0142999521" iyy="0.0903445586" iyz="-0.0025649497" izz="0.0920435080"/>
    </inertial>
  </link>

  <joint name="l_hip_lateral_joint" type="revolute">
    <parent link="l_hip_twist_link"/>
    <origin rpy="1.5707963267948966 0 0" xyz="0 0 0.05"/>
    <axis xyz="0 0 1"/>
    <child link="l_hip_lateral_link"/>
    <limit effort="10" lower="-0.8" upper="0.8" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
    <gazebo>
      <initial_position>-1.0</initial_position>  <!-- 0.3 rad (~17 deg) outward -->
    </gazebo>
  </joint>
  <link name="l_hip_lateral_link">
    <!-- Motor 9[r] 10[l] -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 3.141592653589793" xyz="0 0 0.0353"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F6_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 -1.5707963267948966 1.5707963267948966" xyz="0.019 0.0145 0.0513"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F6_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 -1.5707963267948966 -1.5707963267948966" xyz="-0.019 0.0145 0.0513"/>
    </visual>
    <!-- Motor 11[r] 12[l] -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 1.5707963267948966 0" xyz="0 0 0.0032999999999999974"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-BU_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 3.141592653589793 0" xyz="0 0 -0.014700000000000005"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F7_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 3.141592653589793 1.5707963267948966" xyz="0 0.0145 -0.0157"/>
    </visual>
    <collision name="l_hip_lateral_collision">
      <origin xyz="0 0.0135 0.019999999999999997"/>
      <geometry>
        <box size="0.04 0.051 0.0721"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.6852429363"/>
      <origin xyz="0.0183499039 0.0023512250 0.0035241953"/>
      <inertia ixx="0.0152904078" ixy="0.0125481783" ixz="0.0156374248" iyy="0.1050267499" iyz="0.0020800084" izz="0.1059474294"/>
    </inertial>
   </link>

  <joint name="r_hip_swing_joint" type="revolute">
    <parent link="r_hip_lateral_link"/>
    <origin rpy="1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <child link="r_upper_leg_link"/>
    <limit effort="10" lower="-2.0" upper="2.0" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
    <gazebo>
      <!--initial_position>-0.3</initial_position-->  <!-- 0.3 rad (~17 deg) outward -->
    </gazebo>
  </joint>
  <link name="r_upper_leg_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F4_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 -1.5707963267948966 -1.5707963267948966" xyz="0 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F1_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 1.5707963267948966 -1.5707963267948966" xyz="0.075 0.0145 0"/>
    </visual>
    <collision name="r_upper_leg_proximal_collision">
      <origin xyz="0.0214 0 0"/>
      <geometry>
        <box size="0.065 0.03 0.049"/>
      </geometry>
    </collision>
    <collision name="r_upper_leg_distal_collision">
      <origin xyz="0.0675 0.0065 0"/>
      <geometry>
        <box size="0.04 0.0371 0.049"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.1557654222"/>
      <origin xyz="-0.0012110096 0.0000000568 -0.0444074895"/>
      <inertia ixx="0.0867975538" ixy="-0.0000000255" ixz="0.0030686267" iyy="0.0784005596" iyz="-0.0000000875" izz="0.0138679533"/>
    </inertial>
  </link>

  <joint name="l_hip_swing_joint" type="revolute">
    <parent link="l_hip_lateral_link"/>
    <origin rpy="1.5707963267948966 0 -1.5707963267948966" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <child link="l_upper_leg_link"/>
    <limit effort="10" lower="-2.0" upper="2.0" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
    <gazebo>
      <!--initial_position>0.3</initial_position-->  <!-- 0.3 rad (~17 deg) outward -->
    </gazebo>

  </joint>
  <link name="l_upper_leg_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F4_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 1.5707963267948966 -1.5707963267948966" xyz="0 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F1_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 -1.5707963267948966 1.5707963267948966" xyz="-0.075 0.0145 0"/>
    </visual>
    <collision name="l_upper_leg_proximal_collision">
      <origin xyz="-0.0214 0 0"/>
      <geometry>
        <box size="0.065 0.03 0.049"/>
      </geometry>
    </collision>
    <collision name="l_upper_leg_distal_collision">
      <origin xyz="-0.0675 0.0065 0"/>
      <geometry>
        <box size="0.04 0.0371 0.049"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.1557654222"/>
      <origin xyz="-0.0012110096 0.0000000568 -0.0444074895"/>
      <inertia ixx="0.0867975538" ixy="-0.0000000255" ixz="0.0030686267" iyy="0.0784005596" iyz="-0.0000000875" izz="0.0138679533"/>
    </inertial>
  </link>

  <joint name="r_knee_joint" type="revolute">
    <parent link="r_upper_leg_link"/>
    <origin rpy="0 0 0" xyz="0.075 0.0145 0"/>
    <axis xyz="0 0 1"/>
    <child link="r_lower_leg_link"/>
    <limit effort="10" lower="0" upper="2" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="r_lower_leg_link">
    <!-- Motor 13[r] 14[l] -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F3_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 1.5707963267948966" xyz="0.019 -0.0145 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F4_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 1.5707963267948966 -1.5707963267948966" xyz="0.071 -0.0145 0"/>
    </visual>
    <collision name="r_lower_leg_proximal_collision">
      <origin xyz="0 -0.0135 0"/>
      <geometry>
        <box size="0.033 0.051 0.044"/>
      </geometry>
    </collision>
    <collision name="r_lower_leg_distal_collision">
      <origin xyz="0.0492 -0.0145 0"/>
      <geometry>
        <box size="0.067 0.03 0.049"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.4326089335"/>
      <origin xyz="-0.0010052500 -0.0012675002 -0.0110864377"/>
      <inertia ixx="0.0542924849" ixy="0.0002115982" ixz="0.0010887655" iyy="0.0479327441" iyz="0.0019185952" izz="0.0137425373"/>
    </inertial>
  </link>

  <joint name="l_knee_joint" type="revolute">
    <parent link="l_upper_leg_link"/>
    <origin rpy="0 0 0" xyz="-0.075 0.0145 0"/>
    <axis xyz="0 0 1"/>
    <child link="l_lower_leg_link"/>
    <limit effort="10" lower="0" upper="2" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="l_lower_leg_link">
    <!-- Motor 13[r] 14[l] -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 0" xyz="0 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F3_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 -1.5707963267948966" xyz="-0.019 -0.0145 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F4_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 -1.5707963267948966 -1.5707963267948966" xyz="-0.071 -0.0145 0"/>
    </visual>
    <collision name="l_lower_leg_proximal_collision">
      <origin xyz="0 -0.0135 0"/>
      <geometry>
        <box size="0.033 0.051 0.044"/>
      </geometry>
    </collision>
    <collision name="l_lower_leg_distal_collision">
      <origin xyz="-0.0492 -0.0145 0"/>
      <geometry>
        <box size="0.067 0.03 0.049"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.4326089335"/>
      <origin xyz="-0.0010052500 0.0002674591 -0.0110862203"/>
      <inertia ixx="0.0541596500" ixy="-0.0001245680" ixz="0.0010887872" iyy="0.0479327482" iyz="-0.0009590411" izz="0.0136097320"/>
    </inertial>
  </link>
 
 <joint name="r_ankle_swing_joint" type="revolute">
    <parent link="r_lower_leg_link"/>
    <origin rpy="3.141592653589793 0 0" xyz="0.071 -0.0145 0"/>
    <axis xyz="0 0 1"/>
    <child link="r_ankle_swing_link"/>
    <limit effort="10" lower="-2.0" upper="2.0" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="r_ankle_swing_link">
    <!-- Motor 15[r] 16[l] -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy=" -0.0  3.141592653589793 -1.5707963267948966" xyz="0 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F7_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 -0.0 0" xyz="-0.0145 0.019 0"/>
    </visual>
    <!-- Motor 17[r] 18[l] -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 1.5707963267948966 -1.5707963267948966" xyz="0 -0.032 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F6_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="-0.0145 -0.048 0.019"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F6_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 -1.5707963267948966" xyz="-0.0145 -0.048 -0.019"/>
    </visual>
    <collision name="r_ankle_swing_collision">
      <origin xyz="-0.0135 -0.0167 0"/>
      <geometry>
        <box size="0.051 0.0721 0.04"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.6852429363"/>
      <origin xyz="0.0183499039 -0.0023512250 -0.0035241953"/>
      <inertia ixx="0.0152904078" ixy="-0.0125481783" ixz="-0.0156374248" iyy="0.1050267499" iyz="0.0020800084" izz="0.1059474294"/>
    </inertial>
  </link>

  <joint name="l_ankle_swing_joint" type="revolute">
    <parent link="l_lower_leg_link"/>
    <origin rpy="3.141592653589793 0 0" xyz="-0.071 -0.0145 0"/>
    <axis xyz="0 0 1"/>
    <child link="l_ankle_swing_link"/>
    <limit effort="10" lower="-2.0" upper="2.0" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="l_ankle_swing_link">
    <!-- Motor 15[r] 16[l] -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy=" 3.141592653589793  0.0 -1.5707963267948966" xyz="0 0 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F7_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 3.141592653589793 0" xyz="0.0145 0.019 0"/>
    </visual>
    <!-- Motor 17[r] 18[l] -->
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 -1.5707963267948966 1.5707963267948966" xyz="0 -0.032 0"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F6_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 -1.5707963267948966" xyz="0.0145 -0.048 -0.019"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F6_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 0 -1.5707963267948966" xyz="0.0145 -0.048 0.019"/>
    </visual>
    <collision name="l_ankle_swing_collision">
      <origin xyz="0.0135 -0.0167 0"/>
      <geometry>
        <box size="0.051 0.0721 0.04"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.6852429363"/>
      <origin xyz="0.0167509278 0.0033519500 -0.0035241956"/>
      <inertia ixx="0.0160687475" ixy="0.0135264586" ixz="-0.0142999521" iyy="0.0903445586" iyz="-0.0025649497" izz="0.0920435080"/>
    </inertial>
  </link>

  <joint name="r_ankle_lateral_joint" type="revolute">
    <parent link="r_ankle_swing_link"/>
    <origin rpy="-1.5707963267948966 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <child link="r_ankle_lateral_link"/>
    <limit effort="10" lower="-0.8" upper="0.8" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="r_ankle_lateral_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-BU_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0.015"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F5_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="-1.5707963267948966 -0.0  -1.5707963267948966" xyz="0 0 -0.0155"/>
    </visual>
    <collision name="r_ankle_lateral_collision">
      <origin xyz="0.009 0 -0.016"/>
      <geometry>
        <box size="0.0405 0.029 0.083"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.1867801099"/>
      <origin xyz="-0.0055676472 0.0034398816 0.0028465215"/>
      <inertia ixx="0.0123442309" ixy="-0.0013373380" ixz="-0.0014042040" iyy="0.0351609327" iyz="0.0011525105" izz="0.0411013075"/>
    </inertial>
    <!--
        <inertial>
            <origin xyz="-0.025995 -0.009506 -0.000503" />
            <mass value="0.0794462"/>
            <inertia ixx="0.12079175"  ixy="-0.00079781067"  ixz="-0.00039322246" iyx="-0.00079781067" iyy="0.10885465" iyz="0.0070770117" izx="-0.00039322246" izy="0.0070770117" izz="0.041871103" />
        </inertial>
        -->
  </link>

  <joint name="l_ankle_lateral_joint" type="revolute">
    <parent link="l_ankle_swing_link"/>
    <origin rpy="-1.5707963267948966 0 0" xyz="0 0 0"/>
    <axis xyz="0 0 1"/>
    <child link="l_ankle_lateral_link"/>
    <limit effort="10" lower="-0.8" upper="0.8" velocity="5.6548668"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>
  <link name="l_ankle_lateral_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/BPF-BU_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 0" xyz="0 0 0.015"/>
    </visual>
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F5_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 3.141592653589793  -1.5707963267948966" xyz="0 0 -0.0155"/>
    </visual>
    <collision name="l_ankle_lateral_collision">
      <origin xyz="-0.009 0 -0.016"/>
      <geometry>
        <box size="0.0405 0.029 0.083"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.1867801099"/>
      <origin xyz="-0.0055676472 -0.0035014440 0.0028465215"/>
      <inertia ixx="0.0123437897" ixy="0.0013329200" ixz="-0.0014042040" iyy="0.0351609292" iyz="-0.0011492661" izz="0.0411008628"/>
    </inertial>
  </link>  

   <joint name="r_foot_joint" type="fixed">
    <parent link="r_ankle_lateral_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <child link="r_foot_link"/>
  </joint>
   <!-- Right foot -->
  <link name="r_foot_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 1.5707963267948966 -1.5707963267948966" xyz="0.0235 0 0"/>
    </visual>
    <collision name="r_foot_collision">
      <origin xyz="0.0277 0 0"/>
      <geometry>
        <box size="0.009 0.061 0.101"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.1867801099"/>
      <origin xyz="-0.0055676472 0.0034398816 0.0028465215"/>
      <inertia ixx="0.0123442309" ixy="-0.0013373380" ixz="-0.0014042040" iyy="0.0351609327" iyz="0.0011525105" izz="0.0411013075"/>
    </inertial>
  </link>
  <gazebo reference="r_foot_link">
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <kp>1000000.0</kp>
    <kd>10.0</kd>
    <minDepth>0.001</minDepth>
    <maxContacts>1</maxContacts>
  </gazebo>
  
  <joint name="l_foot_joint" type="fixed">
    <parent link="l_ankle_lateral_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <child link="l_foot_link"/>
  </joint>
  <!-- Left foot -->
  <link name="l_foot_link">
    <visual>
      <geometry>
        <mesh filename="package://bioloid_description/assets/cad/FP04-F12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 1.5707963267948966 -1.5707963267948966 " xyz="-0.0235 0 0"/>
    </visual>
    <collision name="l_foot_collision">
      <origin xyz="-0.0277 0 0"/>
      <geometry>
        <box size="0.009 0.061 0.101"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.1867801099"/>
      <origin xyz="-0.0055676472 -0.0034398816 0.0028465215"/>
      <inertia ixx="0.0123442309" ixy="0.0013373380" ixz="-0.0014042040" iyy="0.0351609327" iyz="-0.0011525105" izz="0.0411013075"/>
    </inertial>
  </link>
  <gazebo reference="l_foot_link">
    <mu1>1.0</mu1>
    <mu2>1.0</mu2>
    <kp>1000000.0</kp>
    <kd>10.0</kd>
    <minDepth>0.001</minDepth>
    <maxContacts>1</maxContacts>
  </gazebo>

  <!-- Add this for new head -->
  <link name="head_link">
    <visual>
        <geometry>
            <mesh filename="package://bioloid_description/assets/cad/Bioloid_CUERPO_vis_4.stl" scale="1.0 1.0 1.0"/>
        </geometry>
        <!--material name="red">
          <color rgba="1.0 0.0 0.0 1.0"/>
        </material-->
        <origin xyz="0 0 0" rpy="0 0 0" />
    </visual>
    <collision name="head_collision">
        <origin xyz="0 0 0" />
        <geometry>
            <box size="0.05 0.05 0.05" />
        </geometry>
    </collision>
    <inertial>
        <mass value="0.1"/>
        <origin xyz="0 0 0" />
        <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/>
    </inertial>
  </link>
  <gazebo reference="head_link">
    <visual>
      <material>
        <ambient>1.0 0.0 0.0 1.0</ambient>
        <diffuse>1.0 0.0 0.0 1.0</diffuse>
        <specular>0.5 0.0 0.0 1.0</specular>
        <emissive>0.3 0.0 0.0 1.0</emissive>
      </material>
    </visual>
  </gazebo>
  <!-- Add this under your existing joints -->
  <joint name="head_joint" type="fixed">
    <parent link="torso_link" />
    <child link="head_link" />
    <origin xyz="0 0 0" rpy="-1.57 0 0" />
    <axis xyz="0 0 1" />
    <limit effort="1.5" lower="-1.0" upper="1.0" velocity="1.0" />
  </joint>

    <link name="head2_link">
    <visual>
        <geometry>
            <mesh filename="package://bioloid_description/assets/cad/Bioloid_CUERPO_vis_2.stl" />
        </geometry>
        <!--material name="red">
          <color rgba="1.0 0.0 0.0 1.0"/>
        </material-->
        <origin xyz="0 0 0" rpy="0 0 0" /> <!-- Adjust position as needed -->
    </visual>
    <collision name="head2_collision">
        <origin xyz="0 0 0" />
        <geometry>
            <box size="0.05 0.05 0.05" /> <!-- Adjust size as needed -->
        </geometry>
    </collision>
    <inertial>
        <mass value="0.1"/> <!-- Adjust mass as needed -->
        <origin xyz="0 0 0" />
        <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.001" iyz="0" izz="0.001"/> <!-- Adjust inertia as needed -->
    </inertial>
  </link>
  
  <gazebo reference="head2_link">
    <visual>
      <material>
        <ambient>1.0 0.0 0.0 1.0</ambient>
        <diffuse>1.0 0.0 0.0 1.0</diffuse>
        <specular>0.5 0.0 0.0 1.0</specular>
        <emissive>0.3 0.0 0.0 1.0</emissive>
      </material>
    </visual>
  </gazebo>
  <!-- Add this under your existing joints -->
  <joint name="head2_joint" type="fixed">
    <parent link="torso_link" />
    <child link="head2_link" />
    <origin xyz="0 0 0" rpy="-1.57 0 0" />
    <axis xyz="0 0 1" />
    <limit effort="1.5" lower="-1.0" upper="1.0" velocity="1.0" />
  </joint>

  <gazebo>
        <plugin filename="gz-sim-joint-state-publisher-system"
                name="gz::sim::systems::JointStatePublisher">
            <update_rate>20</update_rate>
            <topic>joint_states</topic>
            <joint_name>r_shoulder_swing_joint</joint_name>
            <joint_name>l_shoulder_swing_joint</joint_name>
            <joint_name>r_shoulder_lateral_joint</joint_name>
            <joint_name>l_shoulder_lateral_joint</joint_name>
            <joint_name>r_elbow_joint</joint_name>
            <joint_name>l_elbow_joint</joint_name>
            <joint_name>r_hip_twist_joint</joint_name>
            <joint_name>r_hip_lateral_joint</joint_name>
            <joint_name>r_hip_swing_joint</joint_name>
            <joint_name>r_knee_joint</joint_name>
            <joint_name>r_ankle_swing_joint</joint_name>
            <joint_name>r_ankle_lateral_joint</joint_name>
            <joint_name>l_hip_twist_joint</joint_name>
            <joint_name>l_hip_lateral_joint</joint_name>
            <joint_name>l_hip_swing_joint</joint_name>
            <joint_name>l_knee_joint</joint_name>
            <joint_name>l_ankle_swing_joint</joint_name>
            <joint_name>l_ankle_lateral_joint</joint_name>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>r_shoulder_swing_joint</joint_name>
                <topic>r_shoulder_swing_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>l_shoulder_swing_joint</joint_name>
                <topic>l_shoulder_swing_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>r_shoulder_lateral_joint</joint_name>
                <topic>r_shoulder_lateral_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>l_shoulder_lateral_joint</joint_name>
                <topic>l_shoulder_lateral_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>r_elbow_joint</joint_name>
                <topic>r_elbow_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>l_elbow_joint</joint_name>
                <topic>l_elbow_joint/cmd_pos</topic>
        </plugin>
        
                <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>r_hip_twist_joint</joint_name>
                <topic>r_hip_twist_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>r_hip_lateral_joint</joint_name>
                <topic>r_hip_lateral_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>r_hip_swing_joint</joint_name>
                <topic>r_hip_swing_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>r_knee_joint</joint_name>
                <topic>r_knee_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>r_ankle_swing_joint</joint_name>
                <topic>r_ankle_swing_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>r_ankle_lateral_joint</joint_name>
                <topic>r_ankle_lateral_joint/cmd_pos</topic>
        </plugin>

        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>l_hip_twist_joint</joint_name>
                <topic>l_hip_twist_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>l_hip_lateral_joint</joint_name>
                <topic>l_hip_lateral_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>l_hip_swing_joint</joint_name>
                <topic>l_hip_swing_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>l_knee_joint</joint_name>
                <topic>l_knee_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>l_ankle_swing_joint</joint_name>
                <topic>l_ankle_swing_joint/cmd_pos</topic>
        </plugin>
        
        <plugin filename="gz-sim-joint-position-controller-system"
                name="gz::sim::systems::JointPositionController">
                <joint_name>l_ankle_lateral_joint</joint_name>
                <topic>l_ankle_lateral_joint/cmd_pos</topic>
        </plugin>
        
  </gazebo>


  <!-- ros2_control configuration -->
  <ros2_control name="GazeboSystem" type="system">
    <hardware>
      <plugin>gz_ros2_control/GazeboSimSystem</plugin>
    </hardware>
    

    <!-- Right Arm -->
    <joint name="r_shoulder_swing_joint">
      <param name="id">2</param>
      <command_interface name="position"/>
      <command_interface name="velocity"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="r_shoulder_lateral_joint">
      <param name="id">4</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    
    <joint name="r_elbow_joint">
      <param name="id">6</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <!-- Left Arm -->
    <joint name="l_shoulder_swing_joint">
      <param name="id">1</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="l_shoulder_lateral_joint">
      <param name="id">3</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="l_elbow_joint">
      <param name="id">5</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <!-- Right Leg -->
    <joint name="r_hip_twist_joint">
      <param name="id">8</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="r_hip_lateral_joint">
      <param name="id">10</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="r_hip_swing_joint">
      <param name="id">12</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="r_knee_joint">
      <param name="id">14</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="r_ankle_swing_joint">
      <param name="id">16</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="r_ankle_lateral_joint">
      <param name="id">18</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <!-- Left Leg -->
    <joint name="l_hip_twist_joint">
      <param name="id">7</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="l_hip_lateral_joint">
      <param name="id">9</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="l_hip_swing_joint">
      <param name="id">11</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="l_knee_joint">
      <param name="id">13</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="l_ankle_swing_joint">
      <param name="id">15</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    <joint name="l_ankle_lateral_joint">
      <param name="id">17</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

  </ros2_control>
</robot>
  

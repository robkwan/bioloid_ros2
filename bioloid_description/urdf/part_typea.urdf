<?xml version="1.0" ?>
<robot name="typea">
  <gazebo>
    <plugin filename="gz_ros2_control-system" name="gz_ros2_control::GazeboSimROS2ControlPlugin">
      <parameters>/home/robkwan/ros2_ws/src/dynamixel_bringup/config/dxl_ros2_control.yaml</parameters>
      <update_rate>1000.0</update_rate>
    </plugin>
  </gazebo>

  <!-- Torso -->
  <link name="torso_link">
    <visual>
      <geometry>
        <mesh filename="file:///home/robkwan/ros2_ws/src/bioloid_description/assets/cad/BPF-CHEST-F_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="1.5707963267948966 0 1.5707963267948966"/>
    </visual>
    <collision name="torso_collision">
      <origin xyz="-0.019 0 -0.015"/>
      <geometry>
        <box size="0.0905 0.103 0.0635"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="3.477"/>
      <origin xyz="0.016 0.0049 0.0038"/>
      <inertia ixx="0.0009787" ixy="0.0000543" ixz="-0.0000262" iyy="0.0009731" iyz="0.0000199" izz="0.0009353"/>
    </inertial>
  </link>

  <!-- Right Arm -->
  <joint name="r_shoulder_swing_joint" type="revolute">
    <parent link="torso_link"/>
    <origin rpy="1.5707963267948966 1.5707963267948966 0" xyz="0 -0.032 0"/>
    <axis xyz="0 0 1"/>
    <child link="r_shoulder_swing_link"/>
    <limit effort="2.8" lower="-1" upper="1.5707963267948966" velocity="1.0"/>
    <dynamics damping="0.1" friction="0.05"/>
  </joint>

  <link name="r_shoulder_swing_link">
    <visual>
      <geometry>
        <mesh filename="file:///home/robkwan/ros2_ws/src/bioloid_description/assets/cad/FP04-F1_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 3.141592653589793 3.141592653589793" xyz="0 0.014 0.044"/>
    </visual>
    <collision name="r_shoulder_collision">
      <origin xyz="0 0.006 0.0375"/>
      <geometry>
        <box size="0.052 0.039 0.036"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0596"/>
      <origin xyz="-0.0109 0.0124 0"/>
      <inertia ixx="0.00699" ixy="-0.00208" ixz="0" iyy="0.00672" iyz="0" izz="0.00545"/>
    </inertial>
  </link>

  <joint name="r_shoulder_lateral_joint" type="revolute">
    <parent link="r_shoulder_swing_link"/>
    <origin rpy="0 -1.5707963267948966 0" xyz="0 0.014 0.044"/>
    <axis xyz="0 0 1"/>
    <child link="r_upper_arm_link"/>
    <limit effort="2.8" lower="-1.5" upper="1.5" velocity="1.0"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>

  <link name="r_upper_arm_link">
    <visual>
      <geometry>
        <mesh filename="file:///home/robkwan/ros2_ws/src/bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
    </visual>
    <collision name="r_upper_arm_collision">
      <origin xyz="0.0148 0 0"/>
      <geometry>
        <box size="0.054 0.033 0.044"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.3823"/>
      <origin xyz="-0.0000002032 -0.0068291604 -0.0006710552"/>
      <inertia ixx="0.0274690892" ixy="0.0000004066" ixz="0.0000000859" iyy="0.0077817002" iyz="0.0007139012" izz="0.0226034759"/>
    </inertial>
  </link>

  <joint name="r_elbow_joint" type="revolute">
    <parent link="r_upper_arm_link"/>
    <origin rpy="0 0 0" xyz="0.0675 0 0"/>
    <axis xyz="0 0 1"/>
    <child link="r_lower_arm_link"/>
    <limit effort="2.8" lower="-1.77" upper="1.77" velocity="1.0"/>
    <dynamics damping="0.5" friction="0.1"/>
  </joint>

  <link name="r_lower_arm_link">
    <visual>
      <geometry>
        <mesh filename="file:///home/robkwan/ros2_ws/src/bioloid_description/assets/cad/AX-12_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="0 0 1.5707963267948966" xyz="0 0 0"/>
    </visual>
    <collision name="r_lower_arm_collision">
      <origin xyz="0.017 0 0"/>
      <geometry>
        <box size="0.058 0.033 0.044"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.3834"/>
      <origin xyz="-0.0009848283 -0.0081892817 -0.0005847510"/>
      <inertia ixx="0.0336009689" ixy="0.0038318932" ixz="0.0000784112" iyy="0.0055167096" iyz="0.0008760966" izz="0.0319185839"/>
    </inertial>
  </link>
  
  <joint name="r_hand_joint" type="fixed">
    <parent link="r_lower_arm_link"/>
    <origin rpy="0 0 0" xyz="0 0 0"/>
    <child link="r_hand_link"/>
  </joint>

  <link name="r_hand_link">
    <visual>
      <geometry>
        <mesh filename="file:///home/robkwan/ros2_ws/src/bioloid_description/assets/cad/FP04-F11_FCD-Conv_BDR-Col.dae" scale="0.001 0.001 0.001"/>
      </geometry>
      <origin rpy="3.141592653589793 -1.5707963267948966 0" xyz="0.0415 0 0"/>
    </visual>
    <collision name="r_palm_collision">
      <origin xyz="0.039 0 0"/>
      <geometry>
        <box size="0.0131 0.0265 0.044"/>
      </geometry>
    </collision>
    <inertial>
      <mass value="0.0303"/>
      <origin xyz="-0.0070414665 -0.0217364083 -0.0000000095"/>
      <inertia ixx="0.0054448143" ixy="0.0011266691" ixz="0.0000000017" iyy="0.0013220979" iyz="-0.0000000025" izz="0.0053756998"/>
    </inertial>
  </link>
  
    <!-- ros2_control configuration -->
  <ros2_control name="typea" type="system">
    <hardware>
      <plugin>gz_ros2_control/GazeboSimSystem</plugin>
    </hardware>

    <!-- Right Arm -->
    <joint name="r_shoulder_swing_joint">
      <param name="id">2</param>
      <command_interface name="position"/>
      <command_interface name="velocity"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>

    <joint name="r_shoulder_lateral_joint">
      <param name="id">4</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
    
    <joint name="r_elbow_joint">
      <param name="id">6</param>
      <command_interface name="position"/>
      <state_interface name="position"/>
      <state_interface name="velocity"/>
      <state_interface name="effort"/>
    </joint>
  </ros2_control>
  
</robot>
